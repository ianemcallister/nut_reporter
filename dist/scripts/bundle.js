config.$inject=["$routeProvider","$locationProvider"];var ahNuts=angular.module("nutReporter",["ngRoute"]);function mainController(t,e,n,o,i,a,s){console.log("in the main controller");var r=this;function l(e,t){return e.getFullYear()+"-0"+(e.getMonth()+1)+"-0"+e.getDate()+"T"+t}r.date=new Date,r.strTime="00:00:00-07:00",r.endTime="23:59:59-07:00",r.selectedEmployee="",r.selectedLocation="",r.txsSummary={},r.locationsList=o,r.employeeList=i,r.CMEList=a,r.submitQuery=function(){s.queries.CME_Transactions({analysis:["sales"],location:r.selectedLocation,begin_time:l(r.date,r.strTime),end_time:l(r.date,r.endTime),devices:[],employees:[r.selectedEmployee],adjustments:[],sales_hrs:7,labor_hrs:7.5,base_rate_hrly:1200,emails:{employee:[],supervisors:[],other:[]},CME_info:{name:""}}).then(function(e){r.txsSummary=e,console.log(e),t.$apply()})}}function dataService(c){return{queries:{CME_Transactions:function(e){return console.log("sending query for transactions"),console.log(e),new Promise(function(t,n){c({method:"POST",url:"/queryEmployeeTransactions",headers:{"Content-Type":"application/json"},data:e}).then(function(e){t(e.data)},function(e){n(e)})})}},sqr_locations:{list:function(){var e={};return console.log("getting locations list"),new Promise(function(t,n){c({method:"POST",url:"/squarepos/locations",headers:{"Content-Type":"application/json"},data:e}).then(function(e){t(e.data)},function(e){n(e)})})}},sqr_employees:{list:function(e,t,n,o,i,a,s,r){var l={status:e,external_id:t,limit:n,order:o,begin_updated_at:i,end_updated_at:a,begin_created_at:s,end_created_at:r};return console.log("getting employees list"),new Promise(function(t,n){c({method:"POST",url:"/squarepos/employees",headers:{"Content-Type":"application/json"},data:l}).then(function(e){t(e.data)},function(e){n(e)})})}},sqr_txs:{full_day:function(e,t,n){var o={location:e,start:t,end:n};return console.log("getting day's Transactions"),new Promise(function(t,n){c({method:"POST",url:"/squarepos/txs",headers:{"Content-Type":"application/json"},data:o}).then(function(e){t(e.data)},function(e){n(e)})})},select_txs:function(e){var o={};return console.log("getting sqr txs"),e.forEach(function(e){}),new Promise(function(t,n){c({method:"POST",url:"/v1/batch",headers:{"Content-Type":"application/json"},data:o}).then(function(e){t(e.data)},function(e){n(e)})})}},sales_days:{compile_batch:function(e){return new Promise(function(t,n){c({method:"POST",url:"/api/sales_days/compile_new_sales_days_batch",headers:{"Content-Type":"application/json"},data:e}).then(function(e){t(e.data)},function(e){n(e)})})}},test:function(){console.log("this is the data center test")}}}function config(e,t){t.hashPrefix(""),e.when("/",{templateUrl:"views/dailyScorecardGen.htm",controller:"mainController",controllerAs:"vm",resolve:{locationsList:locationsList,employeeList:employeeList,CMEList:CMEList}}).otherwise({redirectTo:"/"})}function locationsList(){return new Promise(function(e,t){e([{value:"Oregon",id:"M53KQT35YKE5C"},{value:"Online",id:"S4P16GQRK21CF"},{value:"Utah",id:"14E8S7P16JQDM"}])})}function employeeList(){return new Promise(function(e,t){e([{value:"Ian McAllister",id:"rUxLgAqsVklCN_14dfbE"},{value:"Steve Young",id:"something"}])})}function CMEList(){return new Promise(function(e,t){e("good test")})}angular.module("nutReporter").controller("mainController",mainController),mainController.$inject=["$scope","$log","$location","locationsList","employeeList","CMEList","dataService"],angular.module("nutReporter").factory("dataService",dataService),dataService.$inject=["$http"],angular.module("nutReporter").config(config);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvd2ViYXBwLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9tYWluLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9kYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL3JvdXRlcy9yb3V0ZXMuY29uZmlnLmpzIl0sIm5hbWVzIjpbImFoTnV0cyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJtYWluQ29udHJvbGxlciIsIiRzY29wZSIsIiRsb2ciLCIkbG9jYXRpb24iLCJsb2NhdGlvbnNMaXN0IiwiZW1wbG95ZWVMaXN0IiwiQ01FTGlzdCIsImRhdGFTZXJ2aWNlIiwiY29uc29sZSIsImxvZyIsInNlbGYiLCJ0aGlzIiwiX2J1aWxkRGF0ZVN0cmluZyIsImRhdGUiLCJ0aW1lIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJEYXRlIiwic3RyVGltZSIsImVuZFRpbWUiLCJzZWxlY3RlZEVtcGxveWVlIiwic2VsZWN0ZWRMb2NhdGlvbiIsInR4c1N1bW1hcnkiLCJzdWJtaXRRdWVyeSIsInF1ZXJpZXMiLCJDTUVfVHJhbnNhY3Rpb25zIiwiYW5hbHlzaXMiLCJsb2NhdGlvbiIsImJlZ2luX3RpbWUiLCJlbmRfdGltZSIsImRldmljZXMiLCJlbXBsb3llZXMiLCJhZGp1c3RtZW50cyIsInNhbGVzX2hycyIsImxhYm9yX2hycyIsImJhc2VfcmF0ZV9ocmx5IiwiZW1haWxzIiwiZW1wbG95ZWUiLCJzdXBlcnZpc29ycyIsIm90aGVyIiwiQ01FX2luZm8iLCJuYW1lIiwidGhlbiIsInF1ZXJ5UmVzcG9uc2UiLCIkYXBwbHkiLCIkaHR0cCIsInBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibWV0aG9kIiwidXJsIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsImRhdGEiLCJyZXNwb25zZSIsImVycm9yIiwic3FyX2xvY2F0aW9ucyIsImxpc3QiLCJwb3N0T2JqZWN0Iiwic3FyX2VtcGxveWVlcyIsInN0YXR1cyIsImV4dGVybmFsX2lkIiwibGltaXQiLCJvcmRlciIsImJlZ2luX3VwZGF0ZWRfYXQiLCJlbmRfdXBkYXRlZF9hdCIsImJlZ2luX2NyZWF0ZWRfYXQiLCJlbmRfY3JlYXRlZF9hdCIsInNxcl90eHMiLCJmdWxsX2RheSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJzdGFydCIsImVuZCIsInNlbGVjdF90eHMiLCJ0eHNMaXN0IiwiZm9yRWFjaCIsInR4Iiwic2FsZXNfZGF5cyIsImNvbXBpbGVfYmF0Y2giLCJ0ZXN0IiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsImhhc2hQcmVmaXgiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsInZhbHVlIiwiaWQiLCIkaW5qZWN0IiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6InNEQUVBLElBQUFBLE9BQUFDLFFBQUFDLE9BQUEsY0FBQSxDQUFBLFlDR0EsU0FBQUMsZUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQUMsUUFBQUMsSUFBQSwwQkFHQSxJQUFBQyxFQUFBQyxLQThDQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUdBLE9BQUFELEVBQUFFLGNBQUEsTUFDQUYsRUFBQUcsV0FBQSxHQUFBLEtBQ0FILEVBQUFJLFVBQUEsSUFDQUgsRUFsREFKLEVBQUFHLEtBQUEsSUFBQUssS0FDQVIsRUFBQVMsUUFBQSxpQkFDQVQsRUFBQVUsUUFBQSxpQkFDQVYsRUFBQVcsaUJBQUEsR0FDQVgsRUFBQVksaUJBQUEsR0FDQVosRUFBQWEsV0FBQSxHQUdBYixFQUFBTixjQUFBQSxFQUNBTSxFQUFBTCxhQUFBQSxFQUNBSyxFQUFBSixRQUFBQSxFQUdBSSxFQUFBYyxZQUFBLFdBR0FqQixFQUFBa0IsUUFBQUMsaUJBQUEsQ0FDQUMsU0FBQSxDQUFBLFNBQ0FDLFNBQUFsQixFQUFBWSxpQkFDQU8sV0FBQWpCLEVBQUFGLEVBQUFHLEtBQUFILEVBQUFTLFNBQ0FXLFNBQUFsQixFQUFBRixFQUFBRyxLQUFBSCxFQUFBVSxTQUNBVyxRQUFBLEdBQ0FDLFVBQUEsQ0FBQXRCLEVBQUFXLGtCQUNBWSxZQUFBLEdBQ0FDLFVBQUEsRUFDQUMsVUFBQSxJQUNBQyxlQUFBLEtBQ0FDLE9BQUEsQ0FDQUMsU0FBQSxHQUNBQyxZQUFBLEdBQ0FDLE1BQUEsSUFFQUMsU0FBQSxDQUNBQyxLQUFBLE1BRUFDLEtBQUEsU0FBQUMsR0FDQWxDLEVBQUFhLFdBQUFxQixFQUNBcEMsUUFBQUMsSUFBQW1DLEdBQ0EzQyxFQUFBNEMsWUNuQ0EsU0FBQXRDLFlBQUF1QyxHQTJNQSxNQXhNQSxDQUNBckIsUUFBQSxDQUNBQyxpQkFrQkEsU0FBQXFCLEdBTUEsT0FKQXZDLFFBQUFDLElBQUEsa0NBQ0FELFFBQUFDLElBQUFzQyxHQUdBLElBQUFDLFFBQUEsU0FBQUMsRUFBQUMsR0FHQUosRUFBQSxDQUNBSyxPQUFBLE9BQ0FDLElBQUEsNkJBQ0FDLFFBQUEsQ0FDQUMsZUFBQSxvQkFFQUMsS0FBQVIsSUFDQUosS0FBQSxTQUFBYSxHQUVBUCxFQUFBTyxFQUFBRCxPQUVBLFNBQUFFLEdBQ0FQLEVBQUFPLFNBckNBQyxjQUFBLENBQ0FDLEtBNEVBLFdBRUEsSUFBQUMsRUFBQSxHQUlBLE9BRkFwRCxRQUFBQyxJQUFBLDBCQUVBLElBQUF1QyxRQUFBLFNBQUFDLEVBQUFDLEdBRUFKLEVBQUEsQ0FDQUssT0FBQSxPQUNBQyxJQUFBLHVCQUNBQyxRQUFBLENBQ0FDLGVBQUEsb0JBRUFDLEtBQUFLLElBQ0FqQixLQUFBLFNBQUFhLEdBRUFQLEVBQUFPLEVBQUFELE9BRUEsU0FBQUUsR0FDQVAsRUFBQU8sU0E5RkFJLGNBQUEsQ0FDQUYsS0FvR0EsU0FBQUcsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQSxJQUFBVCxFQUFBLENBQ0FFLE9BQUFBLEVBQ0FDLFlBQUFBLEVBQ0FDLE1BQUFBLEVBQ0FDLE1BQUFBLEVBQ0FDLGlCQUFBQSxFQUNBQyxlQUFBQSxFQUNBQyxpQkFBQUEsRUFDQUMsZUFBQUEsR0FLQSxPQUZBN0QsUUFBQUMsSUFBQSwwQkFFQSxJQUFBdUMsUUFBQSxTQUFBQyxFQUFBQyxHQUVBSixFQUFBLENBQ0FLLE9BQUEsT0FDQUMsSUFBQSx1QkFDQUMsUUFBQSxDQUNBQyxlQUFBLG9CQUVBQyxLQUFBSyxJQUNBakIsS0FBQSxTQUFBYSxHQUVBUCxFQUFBTyxFQUFBRCxPQUVBLFNBQUFFLEdBQ0FQLEVBQUFPLFNBL0hBYSxRQUFBLENBQ0FDLFNBOEpBLFNBQUEzQyxFQUFBNEMsRUFBQUMsR0FFQSxJQUFBYixFQUFBLENBQ0FoQyxTQUFBQSxFQUNBOEMsTUFBQUYsRUFDQUcsSUFBQUYsR0FLQSxPQUZBakUsUUFBQUMsSUFBQSw4QkFFQSxJQUFBdUMsUUFBQSxTQUFBQyxFQUFBQyxHQUVBSixFQUFBLENBQ0FLLE9BQUEsT0FDQUMsSUFBQSxpQkFDQUMsUUFBQSxDQUNBQyxlQUFBLG9CQUVBQyxLQUFBSyxJQUNBakIsS0FBQSxTQUFBYSxHQUVBUCxFQUFBTyxFQUFBRCxPQUVBLFNBQUFFLEdBQ0FQLEVBQUFPLFFBckxBbUIsV0FzQ0EsU0FBQUMsR0FFQSxJQUFBakIsRUFBQSxHQVFBLE9BUEFwRCxRQUFBQyxJQUFBLG1CQUdBb0UsRUFBQUMsUUFBQSxTQUFBQyxNQUlBLElBQUEvQixRQUFBLFNBQUFDLEVBQUFDLEdBRUFKLEVBQUEsQ0FDQUssT0FBQSxPQUNBQyxJQUFBLFlBQ0FDLFFBQUEsQ0FDQUMsZUFBQSxvQkFFQUMsS0FBQUssSUFDQWpCLEtBQUEsU0FBQWEsR0FFQVAsRUFBQU8sRUFBQUQsT0FFQSxTQUFBRSxHQUNBUCxFQUFBTyxTQTVEQXVCLFdBQUEsQ0FDQUMsY0FpSUEsU0FBQWxDLEdBSUEsT0FBQSxJQUFBQyxRQUFBLFNBQUFDLEVBQUFDLEdBRUFKLEVBQUEsQ0FDQUssT0FBQSxPQUNBQyxJQUFBLCtDQUNBQyxRQUFBLENBQ0FDLGVBQUEsb0JBRUFDLEtBQUFSLElBQ0FKLEtBQUEsU0FBQWEsR0FFQVAsRUFBQU8sRUFBQUQsT0FFQSxTQUFBRSxHQUNBUCxFQUFBTyxTQWpKQXlCLEtBK0JBLFdBQUExRSxRQUFBQyxJQUFBLGtDQ3hEQSxTQUFBMEUsT0FBQUMsRUFBQUMsR0FDQUEsRUFBQUMsV0FBQSxJQUNBRixFQUVBRyxLQUFBLElBQUEsQ0FDQUMsWUFBQSw4QkFDQUMsV0FBQSxpQkFDQUMsYUFBQSxLQUNBekMsUUFBQSxDQUNBN0MsY0FBQUEsY0FDQUMsYUFBQUEsYUFDQUMsUUFBQUEsV0FHQXFGLFVBQUEsQ0FDQUMsV0FBQSxNQVVBLFNBQUF4RixnQkFDQSxPQUFBLElBQUE0QyxRQUFBLFNBQUFDLEVBQUFDLEdBQ0FELEVBQUEsQ0FBQSxDQUFBNEMsTUFBQSxTQUFBQyxHQUFBLGlCQUFBLENBQUFELE1BQUEsU0FBQUMsR0FBQSxpQkFBQSxDQUFBRCxNQUFBLE9BQUFDLEdBQUEscUJBS0EsU0FBQXpGLGVBR0EsT0FBQSxJQUFBMkMsUUFBQSxTQUFBQyxFQUFBQyxHQUVBRCxFQUFBLENBQUEsQ0FBQTRDLE1BQUEsaUJBQUFDLEdBQUEsd0JBQUEsQ0FBQUQsTUFBQSxjQUFBQyxHQUFBLGlCQUtBLFNBQUF4RixVQUVBLE9BQUEsSUFBQTBDLFFBQUEsU0FBQUMsRUFBQUMsR0FFQUQsRUFBQSxlRnhEQW5ELFFBQUFDLE9BQUEsZUFBQTBGLFdBQUEsaUJBQUF6RixnQkFFQUEsZUFBQStGLFFBQUEsQ0FBQSxTQUFBLE9BQUEsWUFBQSxnQkFBQSxlQUFBLFVBQUEsZUNJQWpHLFFBQ0FDLE9BQUEsZUFDQWlHLFFBQUEsY0FBQXpGLGFBR0FBLFlBQUF3RixRQUFBLENBQUEsU0NOQWpHLFFBQ0FDLE9BQUEsZUFDQW9GLE9BQUFBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vZGVmaW5lIHRoZSBtb2R1bGVcblxudmFyIGFoTnV0cyA9IGFuZ3VsYXIubW9kdWxlKCdudXRSZXBvcnRlcicsIFsnbmdSb3V0ZSddKTsiLCJhbmd1bGFyLm1vZHVsZSgnbnV0UmVwb3J0ZXInKS5jb250cm9sbGVyKCdtYWluQ29udHJvbGxlcicsIG1haW5Db250cm9sbGVyKTtcblxubWFpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICckbG9jYXRpb24nLCAnbG9jYXRpb25zTGlzdCcsICdlbXBsb3llZUxpc3QnLCAnQ01FTGlzdCcsICdkYXRhU2VydmljZSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIG1haW5Db250cm9sbGVyKCRzY29wZSwgJGxvZywgJGxvY2F0aW9uLCBsb2NhdGlvbnNMaXN0LCBlbXBsb3llZUxpc3QsIENNRUxpc3QsIGRhdGFTZXJ2aWNlKSB7XG4gICAgLy9ub3RpZnkgcHJvZ3Jlc3NcbiAgICBjb25zb2xlLmxvZygnaW4gdGhlIG1haW4gY29udHJvbGxlcicpO1xuICAgIFxuICAgIC8vICBERUZJTkUgTE9DQUwgVkFSSUFCTEVTXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5kYXRlID0gbmV3IERhdGUoKTtcbiAgICBzZWxmLnN0clRpbWUgPSBcIjAwOjAwOjAwLTA3OjAwXCI7XG4gICAgc2VsZi5lbmRUaW1lID0gXCIyMzo1OTo1OS0wNzowMFwiO1xuICAgIHNlbGYuc2VsZWN0ZWRFbXBsb3llZSA9IFwiXCI7XG4gICAgc2VsZi5zZWxlY3RlZExvY2F0aW9uID0gXCJcIjtcbiAgICBzZWxmLnR4c1N1bW1hcnkgPSB7fTtcblxuICAgIC8vICBMSVNUU1xuICAgIHNlbGYubG9jYXRpb25zTGlzdCA9IGxvY2F0aW9uc0xpc3Q7XG4gICAgc2VsZi5lbXBsb3llZUxpc3QgPSBlbXBsb3llZUxpc3Q7XG4gICAgc2VsZi5DTUVMaXN0ID0gQ01FTGlzdDtcblxuICAgIC8vICBWSUVXIE1PREVMIEZVTkNUSU9OU1xuICAgIHNlbGYuc3VibWl0UXVlcnkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAvLyAgQUNDRVNTIERBVEEgU0VSVklDRVxuICAgICAgICBkYXRhU2VydmljZS5xdWVyaWVzLkNNRV9UcmFuc2FjdGlvbnMoe1xuICAgICAgICAgICAgYW5hbHlzaXM6IFsnc2FsZXMnXSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBzZWxmLnNlbGVjdGVkTG9jYXRpb24sXG4gICAgICAgICAgICBiZWdpbl90aW1lOiBfYnVpbGREYXRlU3RyaW5nKHNlbGYuZGF0ZSwgc2VsZi5zdHJUaW1lKSxcbiAgICAgICAgICAgIGVuZF90aW1lOiBfYnVpbGREYXRlU3RyaW5nKHNlbGYuZGF0ZSwgc2VsZi5lbmRUaW1lKSxcbiAgICAgICAgICAgIGRldmljZXM6IFtdLFxuICAgICAgICAgICAgZW1wbG95ZWVzOiBbc2VsZi5zZWxlY3RlZEVtcGxveWVlXSxcbiAgICAgICAgICAgIGFkanVzdG1lbnRzOiBbXSxcbiAgICAgICAgICAgIHNhbGVzX2hyczogNyxcbiAgICAgICAgICAgIGxhYm9yX2hyczogNy41LFxuICAgICAgICAgICAgYmFzZV9yYXRlX2hybHk6IDEyMDAsXG4gICAgICAgICAgICBlbWFpbHM6IHtcbiAgICAgICAgICAgICAgICBlbXBsb3llZTogW10sXG4gICAgICAgICAgICAgICAgc3VwZXJ2aXNvcnM6IFtdLFxuICAgICAgICAgICAgICAgIG90aGVyOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIENNRV9pbmZvOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHF1ZXJ5UmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHNlbGYudHhzU3VtbWFyeSA9IHF1ZXJ5UmVzcG9uc2U7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhxdWVyeVJlc3BvbnNlKTtcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgfTtcblxuICAgIC8vICBMT0NBTCBNRVRIT0RTXG4gICAgZnVuY3Rpb24gX2J1aWxkRGF0ZVN0cmluZyhkYXRlLCB0aW1lKSB7XG4gICAgICAgIC8vICBERUZJTkUgTE9DQUwgVkFSSUFCTEVTXG4gICAgICAgIC8vICBSRVRVUk4gU1RSSU5HXG4gICAgICAgIHJldHVybiAgZGF0ZS5nZXRGdWxsWWVhcigpICsgXCItMFwiICtcbiAgICAgICAgICAgICAgICAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyBcIi0wXCIgK1xuICAgICAgICAgICAgICAgIGRhdGUuZ2V0RGF0ZSgpICsgXCJUXCIgK1xuICAgICAgICAgICAgICAgIHRpbWVcbiAgICB9O1xufTsiLCIvKlxuKlx0QkFDS0VORCBEQVRBIFNFUlZJQ0VcbipcbiovXG5cbi8vZGVmaW5lIG1vZHVsZVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ251dFJlcG9ydGVyJylcbiAgICAuZmFjdG9yeSgnZGF0YVNlcnZpY2UnLCBkYXRhU2VydmljZSk7XG5cbi8vZGVwZW5kZW5jeSBpbmplY3Rpb25zXG5kYXRhU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG4vL2RlY2xhcmUgdGhlIHNlcnZpY2Vcbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZGF0YVNlcnZpY2UoJGh0dHApIHtcblxuXHQvL2RlZmluZSBtZXRob2RzXG5cdHZhciBkYXRhU2VydmljZSA9IHtcbiAgICAgICAgcXVlcmllczoge1xuICAgICAgICAgICAgQ01FX1RyYW5zYWN0aW9uczogQ01FX3RyYW5zYWN0aW9uc19xdWVyeVxuICAgICAgICB9LFxuXHRcdHNxcl9sb2NhdGlvbnM6IHtcblx0XHRcdGxpc3Q6IHNxcl9sb2NhdGlvbnNfbGlzdFxuXHRcdH0sXG5cdFx0c3FyX2VtcGxveWVlczoge1xuXHRcdFx0bGlzdDogc3FyX2VtcGxveWVlc19saXN0XG5cdFx0fSxcblx0XHRzcXJfdHhzOiB7XG5cdFx0XHRmdWxsX2RheTogc3FyX3R4c19kYXksXG5cdFx0XHRzZWxlY3RfdHhzOiBzcXJfc2VsZWN0X3R4c1xuXHRcdH0sXG5cdFx0c2FsZXNfZGF5czoge1xuXHRcdFx0Y29tcGlsZV9iYXRjaDogY29tcGlsZV9uZXdfc2FsZXNfZGF5X2JhdGNoXG4gICAgICAgIH0sXG4gICAgICAgIHRlc3Q6IHRlc3RcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gQ01FX3RyYW5zYWN0aW9uc19xdWVyeShwYXJhbXMpIHtcbiAgICAgICAgLy8gIE5PVElGWSBQUk9HUkVTU1xuICAgICAgICBjb25zb2xlLmxvZygnc2VuZGluZyBxdWVyeSBmb3IgdHJhbnNhY3Rpb25zJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHBhcmFtcyk7XG5cbiAgICAgICAgLy8gIFJFVFVSTiBBU1lOQyBXT1JLXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gIFNVQk1JVFRJTkcgUVVFUllcbiAgICAgICAgICAgICRodHRwKHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiAnL3F1ZXJ5RW1wbG95ZWVUcmFuc2FjdGlvbnMnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRkYXRhOiBwYXJhbXNcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiB0ZXN0KCkgeyBjb25zb2xlLmxvZygndGhpcyBpcyB0aGUgZGF0YSBjZW50ZXIgdGVzdCcpOyB9XG5cblx0ZnVuY3Rpb24gc3FyX3NlbGVjdF90eHModHhzTGlzdCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBwb3N0T2JqZWN0ID0ge307XG5cdFx0Y29uc29sZS5sb2coJ2dldHRpbmcgc3FyIHR4cycpO1xuXG5cdFx0Ly9pdGVyYXRlIG92ZXIgYWxsIHR4XG5cdFx0dHhzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKHR4KSB7XG5cblx0XHR9KTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdC8vdHJ5IFBPU1Rcblx0XHRcdCRodHRwKHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdHVybDogJy92MS9iYXRjaCcsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRhdGE6IHBvc3RPYmplY3Rcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdH1cblxuXHQvL1xuXHRmdW5jdGlvbiBzcXJfbG9jYXRpb25zX2xpc3QoKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHBvc3RPYmplY3QgPSB7fTtcblxuXHRcdGNvbnNvbGUubG9nKCdnZXR0aW5nIGxvY2F0aW9ucyBsaXN0Jyk7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHQvL3RyeSBQT1NUXG5cdFx0XHQkaHR0cCh7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6ICcvc3F1YXJlcG9zL2xvY2F0aW9ucycsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRhdGE6IHBvc3RPYmplY3Rcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdH07XG5cblx0Ly9cblx0ZnVuY3Rpb24gc3FyX2VtcGxveWVlc19saXN0KHN0YXR1cywgZXh0ZXJuYWxfaWQsIGxpbWl0LCBvcmRlciwgYmVnaW5fdXBkYXRlZF9hdCwgZW5kX3VwZGF0ZWRfYXQsIGJlZ2luX2NyZWF0ZWRfYXQsIGVuZF9jcmVhdGVkX2F0KSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHBvc3RPYmplY3QgPSB7XG5cdFx0XHRzdGF0dXM6IHN0YXR1cyxcblx0XHRcdGV4dGVybmFsX2lkOiBleHRlcm5hbF9pZCxcblx0XHRcdGxpbWl0OiBsaW1pdCxcblx0XHRcdG9yZGVyOiBvcmRlcixcblx0XHRcdGJlZ2luX3VwZGF0ZWRfYXQ6IGJlZ2luX3VwZGF0ZWRfYXQsXG5cdFx0XHRlbmRfdXBkYXRlZF9hdDogZW5kX3VwZGF0ZWRfYXQsXG5cdFx0XHRiZWdpbl9jcmVhdGVkX2F0OiBiZWdpbl9jcmVhdGVkX2F0LFxuXHRcdFx0ZW5kX2NyZWF0ZWRfYXQ6IGVuZF9jcmVhdGVkX2F0XG5cdFx0fTtcblxuXHRcdGNvbnNvbGUubG9nKCdnZXR0aW5nIGVtcGxveWVlcyBsaXN0Jyk7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHQvL3RyeSBQT1NUXG5cdFx0XHQkaHR0cCh7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6ICcvc3F1YXJlcG9zL2VtcGxveWVlcycsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRhdGE6IHBvc3RPYmplY3Rcblx0XHRcdH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2soZXJyb3IpIHtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdH1cblxuXHQvL1x0VEVTVCBGVU5DVElPTlxuXHRmdW5jdGlvbiBjb21waWxlX25ld19zYWxlc19kYXlfYmF0Y2gocGFyYW1zKSB7XG5cdFx0XG5cdFx0Ly9jb25zb2xlLmxvZygndGVzdGluZyBkYXRhU2VydmljZScpO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0Ly90cnkgUE9TVFxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiAnL2FwaS9zYWxlc19kYXlzL2NvbXBpbGVfbmV3X3NhbGVzX2RheXNfYmF0Y2gnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9LFx0XG5cdFx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0fTtcblxuXHQvL1NRVUFSRSBUUkFOU0FDVElPTiBEQVlTXG5cdGZ1bmN0aW9uIHNxcl90eHNfZGF5KGxvY2F0aW9uLCBzdGFydERhdGUsIGVuZERhdGUpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgcG9zdE9iamVjdCA9IHtcblx0XHRcdGxvY2F0aW9uOiBsb2NhdGlvbixcblx0XHRcdHN0YXJ0OiBzdGFydERhdGUsXG5cdFx0XHRlbmQ6IGVuZERhdGVcblx0XHR9O1xuXG5cdFx0Y29uc29sZS5sb2coJ2dldHRpbmcgZGF5XFwncyBUcmFuc2FjdGlvbnMnKTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdC8vdHJ5IFBPU1Rcblx0XHRcdCRodHRwKHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdHVybDogJy9zcXVhcmVwb3MvdHhzJyxcblx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcblx0XHRcdFx0fSxcblx0XHRcdFx0ZGF0YTogcG9zdE9iamVjdFxuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vdHVybiB0aGUgbWV0aG9kXG4gICAgcmV0dXJuIGRhdGFTZXJ2aWNlO1x0XG59O1xuXG4iLCIvKlxuKlx0Uk9VVEVTLUNPTkZJR1xuKlxuKlx0VGhpcyBtb2R1bGUgc2V0cyB1cCBhbGwgdGhlIHJlcXVpcmVkIGFuZ3VsYXIgcm91dGVzIGZvciB0aGlzIHdlYiBhcHAuXG4qL1xuYW5ndWxhclxuICAgIC5tb2R1bGUoJ251dFJlcG9ydGVyJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXHQkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCcnKTtcbiAgICAkcm91dGVQcm92aWRlclxuXHQvL1BVQkxJQyBST1VURVNcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9kYWlseVNjb3JlY2FyZEdlbi5odG0nLCAgICAgIC8vJ3ZpZXdzL2RhaWx5U2NvcmVjYXJkR2VuLmh0bSdcbiAgICAgICAgY29udHJvbGxlcjogJ21haW5Db250cm9sbGVyJywgICAgICAgICAgICAgICAgICAgLy8nbWFpbkNvbnRyb2xsZXInXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgcmVzb2x2ZTogeyAvKiBAbmdJbmplY3QgKi9cbiAgICAgICAgICAgIGxvY2F0aW9uc0xpc3Q6IGxvY2F0aW9uc0xpc3QsXG4gICAgICAgICAgICBlbXBsb3llZUxpc3Q6IGVtcGxveWVlTGlzdCxcbiAgICAgICAgICAgIENNRUxpc3Q6IENNRUxpc3RcbiAgICAgICAgfVxuICAgIH0pXG5cdC5vdGhlcndpc2Uoe1xuICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICB9KTtcbn1cblxuLypcbiogICBSRVFVSVJFRCBGVU5DVElPTlNcbipcbiovXG5cbi8vICBMT0NBVElPTlMgTElTVFxuZnVuY3Rpb24gbG9jYXRpb25zTGlzdCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlc29sdmUoW3t2YWx1ZTogXCJPcmVnb25cIiwgaWQ6IFwiTTUzS1FUMzVZS0U1Q1wifSx7dmFsdWU6XCJPbmxpbmVcIixpZDpcIlM0UDE2R1FSSzIxQ0ZcIn0sIHt2YWx1ZTpcIlV0YWhcIixpZDpcIjE0RThTN1AxNkpRRE1cIn1dKTtcbiAgICB9KTtcbn07XG5cbi8vICBFTVBMT1lFRSBMSVNUXG5mdW5jdGlvbiBlbXBsb3llZUxpc3QoKSB7XG4gICAgLy9yZXR1cm4gdGhlIHByb21pc2VcbiAgICAvL3JldHVybiAnZ29vZCB0ZXN0JztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vaGl0IHRoZSBzZXJ2ZXIgZm9yIHRoZSBcbiAgICAgICAgcmVzb2x2ZShbe3ZhbHVlOiBcIklhbiBNY0FsbGlzdGVyXCIsIGlkOiBcInJVeExnQXFzVmtsQ05fMTRkZmJFXCJ9LHt2YWx1ZTpcIlN0ZXZlIFlvdW5nXCIsaWQ6XCJzb21ldGhpbmdcIn1dKTtcbiAgICB9KTtcbn07XG5cbi8vICBDTUUgTElTVFxuZnVuY3Rpb24gQ01FTGlzdCgpIHtcbiAgICAvL3JldHVybiB0aGUgcHJvbWlzZVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy9oaXQgdGhlIHNlcnZlciBmb3IgdGhlIFxuICAgICAgICByZXNvbHZlKCdnb29kIHRlc3QnKTtcbiAgICB9KTtcbn07XG4iXX0=
